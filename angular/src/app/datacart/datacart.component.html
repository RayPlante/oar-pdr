<div >
    <div style="padding-left: 1%;padding-bottom:10%">
        <div class="ui-g">
            <div class="ui-g-12 ui-md-12" >
                <button type="button" (click)="downloadZIP()" pButton type="submit" class="btn btn-primary" ><i class="faa faa-download faa-1x icon-white" style="color: #fff;"></i> Download selected <span class="badge badge-notify" >{{selectedFileCount}}</span></button>
                <button type="button" (click)="removeByDataId()" style="background-color: red;" class="btn btn-primary" pButton type="submit"><i class="faa faa-trash faa-1x icon-white" style="color: #fff;"></i> Remove selected <span class="badge badge-notify">{{selectedFileCount}}</span></button>
                <button type="button" (click)="removeByDownloadStatus()" style="background-color: red;" class="btn btn-primary" pButton type="submit"><i class="faa faa-minus-circle faa-1x icon-white" style="color: #fff;"></i> Remove downloaded</button>
            </div>
            <div class="ui-g-2 ui-md-2" *ngFor="let item of displayFiles  ">
                {{item.key}}-<p-progressSpinner *ngIf ="item.value === true" [style]="{width: '12px', height: '12px'}" ></p-progressSpinner><i class="faa faa-check" *ngIf ="item.value !== true"></i>
            </div>
        </div>
        <p-treeTable selectionMode="checkbox" [value]="dataFiles" (onNodeSelect) = "dataFileCount()" (onNodeUnselect) = "dataFileCount()" [(selection)]="selectedData" [style]="{'margin-top':'10px','overflow-y': 'scroll'}">
            <p-column styleClass="col-button" [style]="{'width':'30px'}">
                <ng-template let-file="rowData" pTemplate="body">
                    <button type="button" *ngIf = "file.data.downloadedStatus === 'downloaded' && file.data.resTitle.indexOf('.') > 0 " style="margin-left:-55px" class="small-button" pButton icon="faa faa-check"></button>
                    <button type="button" *ngIf = "file.data.downloadedStatus === 'downloading' && file.data.resTitle.indexOf('.') > 0 " style="margin-left:-60px" class="small-button-yellow" pButton icon="faa faa-check"></button>
                </ng-template>
            </p-column>
            <p-column field="resTitle" [style]="{'width':'200px','white-space':'normal'}" header="Name">
                <ng-template let-file="rowData" pTemplate="body">
                    <a href="{{file.data.downloadURL}}" target="_blank" *ngIf = "file.data.resTitle.indexOf('.') > 0">{{file.data.resTitle}}</a>
                    <span *ngIf = "file.data.resTitle.indexOf('.') < 0">{{file.data.resTitle}}</span>
                </ng-template>
            </p-column>
            <p-column field="downloadedStatus" [style]="{'width':'50px'}" header="Status">
                <ng-template let-file="rowData" pTemplate="body">
                    <span *ngIf = "file.data.resTitle.indexOf('.') > 0">{{file.data.downloadedStatus}}</span>
                </ng-template>
            </p-column>
            <p-column field="size" [style]="{'width':'50px'}" header="Size"></p-column>
        </p-treeTable>
    </div>
</div>