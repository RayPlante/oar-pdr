<!-- Edit Control button bar -->
<div class="edit-control-buttons" *ngIf="_editMode != EDIT_MODES.VIEWONLY_MODE">
    <div *ngIf="_editMode != EDIT_MODES.DONE_MODE" style="color: white; background-color: #1c4d9b; float: left; margin: 0em .5em 0em 03em; padding: .4em .5em .4em .5em; font-size: 20px; font-weight:bolder !important;">{{currentMode}}</div>
    <!-- Buttons are arranged from right to left -->

    <i class="faa faa-info-circle" id="ec-info-btn" (click)="showEditControlHelpPopup()" data-toggle="tooltip" title="Show edit control help"></i>

    <div *ngIf="screenWidth > screenSizeBreakPoint" style="float: right; margin-top: .5em !important;">
        <!-- 
        -  Edit button:  when editing is off, the Edit button will show; if it is on, the
        -  "Preview" button will show in its place
        -->
        <button pButton type="submit" *ngIf="_editMode == EDIT_MODES.PREVIEW_MODE" type="button" class="btn btn-labeled" 
            (click)="startEditing()"
            id="ec-edit-btn" label="Edit" icon="faa faa-pencil faa-1x icon-white" iconPos="left">
        </button>

        <button pButton type="submit" *ngIf="_editMode == EDIT_MODES.EDIT_MODE" type="button" class="btn btn-labeled" (click)="preview()" id="ec-preview-btn" label="Preview" icon="faa faa-eye faa-1x icon-white" iconPos="left">
        </button>

        <!-- Discard button -->
        <button pButton type="submit" class="btn btn-labeled" id="ec-discard-btn" (click)="confirmDiscardEdits()"
            [disabled]="(_editMode == EDIT_MODES.DONE_MODE)" label="Discard" icon="faa faa-trash faa-1x icon-white" iconPos="left">
        </button>

        <!-- Finish button -->
        <button pButton type="submit" class="btn btn-labeled" id="ec-close-btn" (click)="doneEdits()"
            [disabled]="(_editMode == EDIT_MODES.DONE_MODE)" label="Finish" icon="faa faa-save faa-1x icon-white" iconPos="left">
        </button>
    </div>
</div>

<!-- In small screen mode, control buttons need be in a separate line -->
<div *ngIf="screenWidth <= screenSizeBreakPoint" style="margin-top: .5em;">
        <!-- 
        -  Edit button:  when editing is off, the Edit button will show; if it is on, the
        -  "Preview" button will show in its place
        -->
        <div style="width: 100%; text-align: right !important;">
            <button pButton type="submit" *ngIf="_editMode == EDIT_MODES.PREVIEW_MODE" type="button" class="btn btn-labeled" 
                (click)="startEditing()"
                id="ec-edit-btn" label="Edit" icon="faa faa-pencil faa-1x icon-white" iconPos="left">
            </button>

            <button pButton type="submit" *ngIf="_editMode == EDIT_MODES.EDIT_MODE" type="button" class="btn btn-labeled"  (click)="preview()" id="ec-preview-btn" label="Preview" icon="faa faa-eye faa-1x icon-white" iconPos="left">
            </button>

            <!-- Discard button -->
            <button pButton type="submit" class="btn btn-labeled" id="ec-discard-btn" (click)="confirmDiscardEdits()"
            [disabled]="(_editMode == EDIT_MODES.DONE_MODE)" label="Discard" icon="faa faa-trash faa-1x icon-white" iconPos="left">
            </button>

            <!-- Finish button -->
            <button pButton type="submit" class="btn btn-labeled" id="ec-close-btn" (click)="doneEdits()"
            [disabled]="(_editMode == EDIT_MODES.DONE_MODE)" label="Finish" icon="faa faa-save faa-1x icon-white" iconPos="left">
            </button>
        </div>
</div>

<!-- status message bar -->
<pdr-edit-status></pdr-edit-status>

<!-- error messages go here -->
<pdr-message [defSysErrorPrefix]="'There was a problem while editing your record.'"></pdr-message>